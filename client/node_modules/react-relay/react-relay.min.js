/**
 * Relay v1.7.0
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("relay-runtime"),require("fbjs/lib/invariant"),require("react"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/extends"),require("fbjs/lib/areEqual"),require("fbjs/lib/sprintf"),require("babel-runtime/helpers/inherits"),require("babel-runtime/helpers/possibleConstructorReturn"),require("prop-types"),require("babel-runtime/helpers/objectWithoutProperties"),require("babel-runtime/helpers/defineProperty"),require("fbjs/lib/mapObject"),require("fbjs/lib/nullthrows")):"function"==typeof define&&define.amd?define(["relay-runtime","fbjs/lib/invariant","react","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/extends","fbjs/lib/areEqual","fbjs/lib/sprintf","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","prop-types","babel-runtime/helpers/objectWithoutProperties","babel-runtime/helpers/defineProperty","fbjs/lib/mapObject","fbjs/lib/nullthrows"],t):"object"==typeof exports?exports.ReactRelay=t(require("relay-runtime"),require("fbjs/lib/invariant"),require("react"),require("babel-runtime/helpers/classCallCheck"),require("babel-runtime/helpers/extends"),require("fbjs/lib/areEqual"),require("fbjs/lib/sprintf"),require("babel-runtime/helpers/inherits"),require("babel-runtime/helpers/possibleConstructorReturn"),require("prop-types"),require("babel-runtime/helpers/objectWithoutProperties"),require("babel-runtime/helpers/defineProperty"),require("fbjs/lib/mapObject"),require("fbjs/lib/nullthrows")):e.ReactRelay=t(e["relay-runtime"],e["fbjs/lib/invariant"],e.react,e["babel-runtime/helpers/classCallCheck"],e["babel-runtime/helpers/extends"],e["fbjs/lib/areEqual"],e["fbjs/lib/sprintf"],e["babel-runtime/helpers/inherits"],e["babel-runtime/helpers/possibleConstructorReturn"],e["prop-types"],e["babel-runtime/helpers/objectWithoutProperties"],e["babel-runtime/helpers/defineProperty"],e["fbjs/lib/mapObject"],e["fbjs/lib/nullthrows"])}(this,function(e,t,r,n,o,a,i,s,l,u,c,p,f,h){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";e.exports={QueryRenderer:r(22),MutationTypes:r(1).MutationTypes,RangeOperations:r(1).RangeOperations,applyOptimisticMutation:r(1).applyOptimisticMutation,commitLocalUpdate:r(1).commitLocalUpdate,commitMutation:r(1).commitMutation,createFragmentContainer:r(20).createContainer,createPaginationContainer:r(21).createContainer,createRefetchContainer:r(23).createContainer,fetchQuery:r(1).fetchQuery,graphql:r(1).graphql,requestSubscription:r(1).requestSubscription}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";function n(e){return o(e)?void 0:r(2)(!1),e}function o(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&r(19)(e.environment)&&r(26)(e.variables)}e.exports={assertRelayContext:n,isRelayContext:o}},function(e,t){e.exports=r},function(e,t){"use strict";function r(e){return e.displayName||e.name||"Component"}function n(e){return"Relay("+r(e)+")"}e.exports={getComponentName:r,getContainerName:n}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=n(r(8)),a=function(){function e(t){(0,o.default)(this,e),this._selectionReferences=[],this._callOnDataChangeWhenSet=!1,null!=t&&(this._cacheSelectionReference=t.cacheSelectionReference,this._selectionReferences=t.selectionReferences)}return e.prototype.getSelectionReferences=function(){return{cacheSelectionReference:this._cacheSelectionReference,selectionReferences:this._selectionReferences}},e.prototype.lookupInStore=function(e,t){return e.check(t.root)?(this._retainCachedOperation(e,t),e.lookup(t.fragment)):null},e.prototype.execute=function(e){var t=this,r=e.environment,n=e.operation,o=e.cacheConfig,a=e.preservePreviousReferences,i=void 0!==a&&a,s=r.unstable_internal.createOperationSelector,l=[];return r.execute({operation:n,cacheConfig:o}).map(function(e){var t=s(n.node,e.variables,e.operation);return l.push(r.retain(t.root)),e}).do({error:function(){t._selectionReferences=t._selectionReferences.concat(l)},complete:function(){i||t.disposeSelectionReferences(),t._selectionReferences=t._selectionReferences.concat(l)},unsubscribe:function(){t._selectionReferences=t._selectionReferences.concat(l)}})},e.prototype.setOnDataChange=function(e){this._fetchOptions?void 0:r(2)(!1),"function"==typeof e&&(this._fetchOptions.onDataChangeCallbacks=this._fetchOptions.onDataChangeCallbacks||[],this._fetchOptions.onDataChangeCallbacks.push(e),this._callOnDataChangeWhenSet&&(null!=this._error?e({error:this._error}):null!=this._snapshot&&e({snapshot:this._snapshot})))},e.prototype.fetch=function(e){var t,r,n=this,o=e.cacheConfig,a=e.environment,i=e.operation,s=e.onDataChange,l=!1,u=void 0;if(this.disposeRequest(),t=this._fetchOptions&&this._fetchOptions.onDataChangeCallbacks,this._fetchOptions={cacheConfig:o,environment:a,onDataChangeCallbacks:t||[],operation:i},s&&this._fetchOptions.onDataChangeCallbacks.indexOf(s)===-1&&this._fetchOptions.onDataChangeCallbacks.push(s),r=this.execute({environment:a,operation:i,cacheConfig:o}).finally(function(){n._pendingRequest=null}).subscribe({next:function(){n._callOnDataChangeWhenSet=!0,n._error=null,n._onQueryDataAvailable({notifyFirstResult:l})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){n._callOnDataChangeWhenSet=!0,n._error=e,n._snapshot=null;var t=n._fetchOptions&&n._fetchOptions.onDataChangeCallbacks;l?t&&t.forEach(function(t){t({error:e})}):u=e})}),this._pendingRequest={dispose:function(){r.unsubscribe()}},l=!0,u)throw u;return this._snapshot},e.prototype.retry=function(){return this._fetchOptions?void 0:r(2)(!1),this.fetch({cacheConfig:this._fetchOptions.cacheConfig,environment:this._fetchOptions.environment,operation:this._fetchOptions.operation,onDataChange:null})},e.prototype.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()},e.prototype.disposeRequest=function(){this._error=null,this._snapshot=null,this._pendingRequest&&this._pendingRequest.dispose(),this._rootSubscription&&(this._rootSubscription.dispose(),this._rootSubscription=null)},e.prototype._retainCachedOperation=function(e,t){this._disposeCacheSelectionReference(),this._cacheSelectionReference=e.retain(t.root)},e.prototype._disposeCacheSelectionReference=function(){this._cacheSelectionReference&&this._cacheSelectionReference.dispose(),this._cacheSelectionReference=null},e.prototype.disposeSelectionReferences=function(){this._disposeCacheSelectionReference(),this._selectionReferences.forEach(function(e){return e.dispose()}),this._selectionReferences=[]},e.prototype._onQueryDataAvailable=function(e){var t,n,o,a,i,s=this,l=e.notifyFirstResult;this._fetchOptions?void 0:r(2)(!1),t=this._fetchOptions,n=t.environment,o=t.onDataChangeCallbacks,a=t.operation,this._snapshot||(this._snapshot=n.lookup(a.fragment),this._rootSubscription=n.subscribe(this._snapshot,function(e){if(null!=s._fetchOptions){var t=s._fetchOptions.onDataChangeCallbacks;Array.isArray(t)&&t.forEach(function(t){return t({snapshot:e})})}}),this._snapshot&&l&&Array.isArray(o)&&(i=this._snapshot,o.forEach(function(e){return e({snapshot:i})})))},e}();e.exports=a},function(e,t,r){"use strict";var n={Container:function(e,t,n){var o=e[t];return null==o?new Error(r(11)("Required prop `%s` was not specified in `%s`.",t,n)):r(25)(o)?null:new Error(r(11)("Invalid prop `%s` supplied to `%s`, expected a RelayContainer.",t,n))},Environment:function(e,t,n){var o=e[t];return r(18)(o)&&r(19)(o)?null:new Error(r(11)("Invalid prop/context `%s` supplied to `%s`, expected `%s` to be an object conforming to the `RelayEnvironment` interface.",t,n,o))},QueryConfig:r(14).shape({name:r(14).string.isRequired,params:r(14).object.isRequired,queries:r(14).object.isRequired}),ClassicRelay:function(e,t,n){var o=e[t];return r(3).isRelayContext(o)&&r(18)(o.environment)?null:new Error(r(11)("Invalid prop/context `%s` supplied to `%s`, expected `%s` to be an object with a classic `environment` implementation and `variables`.",t,n,o))},Relay:function(e,t,n){var o=e[t];return r(3).isRelayContext(o)?null:new Error(r(11)("Invalid prop/context `%s` supplied to `%s`, expected `%s` to be an object with an `environment` and `variables`.",t,n,o))}};e.exports=n},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t){e.exports=i},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=u},function(e,t,r){"use strict";function n(e,t){r(1).RelayProfiler.instrumentMethods(e.prototype,{constructor:t+".prototype.constructor",UNSAFE_componentWillReceiveProps:t+".prototype.UNSAFE_componentWillReceiveProps",componentWillUnmount:t+".prototype.componentWillUnmount",shouldComponentUpdate:t+".prototype.shouldComponentUpdate"}),null!==e.prototype&&"object"==typeof e.prototype&&"function"==typeof e.getDerivedStateFromProps&&(e.prototype.constructor.getDerivedStateFromProps=e.getDerivedStateFromProps)}e.exports={profileContainer:n}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,o){function s(o,a){var i,l;return null!=c&&a.relay.environment===u||(u=a.relay.environment,i=u.unstable_internal.getFragment,l=r(28)(t,i),c=n(e,l),s.getDerivedStateFromProps=c.getDerivedStateFromProps),new c(o,a)}function l(e,t){return r(4).createElement(s,(0,a.default)({},e,{componentRef:e.componentRef||t}))}var u,c,p,f=r(5).getContainerName(e);return r(24)(r(5).getComponentName(e),t),u=void 0,c=void 0,s.contextTypes=i,o&&(s.childContextTypes=i),l.displayName=f,p=r(4).forwardRef(l)}var a=n(r(9)),i={relay:r(7).Relay};e.exports=o},function(e,t){e.exports=c},function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e&&"function"==typeof e.applyMutation&&"function"==typeof e.sendMutation&&"function"==typeof e.forceFetch&&"function"==typeof e.getFragmentResolver&&"function"==typeof e.getStoreData&&"function"==typeof e.primeCache}e.exports=r},function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e&&"function"==typeof e.check&&"function"==typeof e.lookup&&"function"==typeof e.retain&&"function"==typeof e.sendQuery&&"function"==typeof e.execute&&"function"==typeof e.subscribe}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=r(5).getContainerName(e),o=function(o){function a(e,i){var s,c,p,f;return(0,l.default)(this,a),s=(0,u.default)(this,o.call(this,e,i)),s._handleFragmentDataUpdate=function(){var e=r(1).RelayProfiler.profile("ReactRelayFragmentContainer.handleFragmentDataUpdate"),t=s.state.resolver;s.setState(function(e){return t===e.resolver?{data:e.resolver.resolve(),relayProp:{isLoading:e.resolver.isLoading(),environment:e.relayProp.environment}}:null},e.stop)},c=r(3).assertRelayContext(i.relay),p=c.environment.unstable_internal.createFragmentSpecResolver,f=p(c,n,t,e),s.state={data:f.resolve(),relay:c,relayEnvironment:i.relay.environment,prevProps:s.props,relayVariables:i.relay.variables,relayProp:{isLoading:f.isLoading(),environment:c.environment},resolver:f},s}return(0,c.default)(a,o),a.getDerivedStateFromProps=function(e,o){var a,i=o.prevProps,s=o.relay,l=s.environment.unstable_internal,u=l.createFragmentSpecResolver,c=l.getDataIDsFromObject,p=c(t,i),f=c(t,e),h=o.resolver;return o.relayEnvironment===s.environment&&o.relayVariables===s.variables&&r(10)(p,f)?(h.setProps(e),a=h.resolve(),a!==o.data?{data:a,relayEnvironment:s.environment,prevProps:e,relayVariables:s.variables,relayProp:{isLoading:h.isLoading(),environment:s.environment}}:null):(h=u(s,n,t,e),{data:h.resolve(),relayEnvironment:s.environment,prevProps:e,relayVariables:s.variables,relayProp:{isLoading:h.isLoading(),environment:s.environment},resolver:h})},a.prototype.componentDidMount=function(){this._subscribeToNewResolver(),this._rerenderIfStoreHasChanged()},a.prototype.componentDidUpdate=function(e,t){this.state.resolver!==t.resolver&&(t.resolver.dispose(),this._subscribeToNewResolver()),this._rerenderIfStoreHasChanged()},a.prototype.componentWillUnmount=function(){this.state.resolver.dispose()},a.prototype.shouldComponentUpdate=function(e,n){var o,a,i;if(n.data!==this.state.data)return!0;for(o=Object.keys(e),a=0;a<o.length;a++)if(i=o[a],"relay"===i){if(n.relayEnvironment!==this.state.relayEnvironment||n.relayVariables!==this.state.relayVariables)return!0}else if(!t.hasOwnProperty(i)&&!r(1).isScalarAndEqual(e[i],this.props[i]))return!0;return!1},a.prototype._rerenderIfStoreHasChanged=function(){var e=this.state,t=e.data,r=e.resolver,n=r.resolve();t!==n&&this.setState({data:n})},a.prototype._subscribeToNewResolver=function(){var e=this.state.resolver;e.setCallback(this._handleFragmentDataUpdate)},a.prototype.render=function(){var t=this.props,n=t.componentRef,o=(0,s.default)(t,["componentRef"]);return r(4).createElement(e,(0,i.default)({},o,this.state.data,{ref:n,relay:this.state.relayProp}))},a}(r(4).Component);return o.displayName=n,o.contextTypes={relay:r(7).Relay},r(15).profileContainer(o,"ReactRelayFragmentContainer"),o}function a(e,t){return r(16)(e,t,o,!1)}var i=n(r(9)),s=n(r(17)),l=n(r(8)),u=n(r(13)),c=n(r(12));e.exports={createContainer:a,createContainerWithFragments:o}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.path;return t?void 0:r(2)(!1),function(r){var n,o=r[e.fragmentName];for(n=0;n<t.length;n++){if(!o||"object"!=typeof o)return null;o=o[t[n]]}return o}}function a(e){var t=e.count;return t?void 0:r(2)(!1),function(e,r){return(0,v.default)({},e,(0,y.default)({},t,r))}}function i(e){var t,n,o,a=null,i=!1;for(t in e)n=e[t],o=n.metadata&&n.metadata.connection,void 0!==n.metadata&&(i=!0),o&&(1!==o.length?r(2)(!1):void 0,a?r(2)(!1):void 0,a=(0,v.default)({},o[0],{fragmentName:t}));return i&&null===a?r(2)(!1):void 0,a||{}}function s(e){return"function"==typeof e?{error:e,complete:e,unsubscribe:function(t){"function"==typeof e&&e()}}:e||{}}function l(e,t,n){var l,u,y=(r(5).getComponentName(e),r(5).getContainerName(e)),m=i(t),_=n.getConnectionFromProps||o(m),C=n.direction||m.direction;return C?void 0:r(2)(!1),l=n.getFragmentVariables||a(m),u=function(o){function a(e,n){var i,l,u;return(0,p.default)(this,a),i=(0,f.default)(this,o.call(this,e,n)),i._handleFragmentDataUpdate=function(){var e=r(1).RelayProfiler.profile("ReactRelayPaginationContainer.handleFragmentDataUpdate");i.setState({data:i._resolver.resolve()},e.stop)},i._hasMore=function(){var e=i._getConnectionData();return!!(e&&e.hasMore&&e.cursor)},i._isLoading=function(){return!!i._refetchSubscription},i._refetchConnection=function(e,t,r){var n,o;return i._canFetchPage("refetchConnection")?(i._refetchVariables=r,n={count:e,cursor:null,totalCount:e},o=i._fetchPage(n,s(t),{force:!0}),{dispose:o.unsubscribe}):{dispose:function(){}}},i._loadMore=function(e,t,n){var o,a,l,u,c,p,f,h,y;return i._canFetchPage("loadMore")?(o=s(t),(a=i._getConnectionData())?(l=a.edgeCount+e,n&&n.force?i._refetchConnection(l,t):(u=r(1).ConnectionInterface.get(),c=u.END_CURSOR,p=u.START_CURSOR,f=a.cursor,h={count:e,cursor:f,totalCount:l},i._hasPaginated=!0,y=i._fetchPage(h,o,n),{dispose:y.unsubscribe})):(r(1).Observable.create(function(e){return e.complete()}).subscribe(o),null)):{dispose:function(){}}},l=r(3).assertRelayContext(n.relay),u=l.environment.unstable_internal.createFragmentSpecResolver,i._isARequestInFlight=!1,i._hasPaginated=!1,i._refetchSubscription=null,i._refetchVariables=null,i._resolver=u(l,y,t,e,i._handleFragmentDataUpdate),i._relayContext={environment:l.environment,variables:l.variables},i.state={data:i._resolver.resolve(),relayEnvironment:l.environment,relayProp:i._buildRelayProp(l),relayVariables:l.variables},i._isUnmounted=!1,i}return(0,h.default)(a,o),a.prototype.UNSAFE_componentWillReceiveProps=function(e,n){var o,a=r(29)(n),i=r(3).assertRelayContext(a.relay),s=i.environment.unstable_internal,l=s.createFragmentSpecResolver,u=s.getDataIDsFromObject,c=u(t,this.props),p=u(t,e);this.state.relayEnvironment===i.environment&&this.state.relayVariables===i.variables&&r(10)(c,p)?this._hasPaginated||this._resolver.setProps(e):(this._cleanup(),this._relayContext.environment=i.environment,this._relayContext.variables=i.variables,this._resolver=l(i,y,t,e,this._handleFragmentDataUpdate),this.setState({relayEnvironment:i.environment,relayProp:this._buildRelayProp(i),relayVariables:i.variables})),o=this._resolver.resolve(),o!==this.state.data&&this.setState({data:o})},a.prototype.componentWillUnmount=function(){this._isUnmounted=!0,this._cleanup()},a.prototype.shouldComponentUpdate=function(e,n){var o,a,i;if(n.data!==this.state.data||n.relayProp!==this.state.relayProp)return!0;for(o=Object.keys(e),a=0;a<o.length;a++)if(i=o[a],"relay"===i){if(n.relayEnvironment!==this.state.relayEnvironment||n.relayVariables!==this.state.relayVariables)return!0}else if(!t.hasOwnProperty(i)&&!r(1).isScalarAndEqual(e[i],this.props[i]))return!0;return!1},a.prototype._buildRelayProp=function(e){return{hasMore:this._hasMore,isLoading:this._isLoading,loadMore:this._loadMore,refetchConnection:this._refetchConnection,environment:e.environment}},a.prototype._getConnectionData=function(){var e,t,n,o,a,i,s,l,u,p,f,h=this.props,y=(h.componentRef,(0,c.default)(h,["componentRef"])),d=(0,v.default)({},y,this.state.data),m=_(d);return null==m?null:(e=r(1).ConnectionInterface.get(),t=e.EDGES,n=e.PAGE_INFO,o=e.HAS_NEXT_PAGE,a=e.HAS_PREV_PAGE,i=e.END_CURSOR,s=e.START_CURSOR,"object"!=typeof m?r(2)(!1):void 0,l=m[t],u=m[n],null==l||null==u?null:(Array.isArray(l)?void 0:r(2)(!1),"object"!=typeof u?r(2)(!1):void 0,p=C===b?u[o]:u[a],f=C===b?u[i]:u[s],"boolean"!=typeof p||0!==l.length&&"undefined"==typeof f?null:{cursor:f,edgeCount:l.length,hasMore:p}))},a.prototype._getQueryFetcher=function(){return this._queryFetcher||(this._queryFetcher=new(r(6))),this._queryFetcher},a.prototype._canFetchPage=function(e){return!this._isUnmounted},a.prototype._fetchPage=function(e,o,a){var i,s,u,p,f,h,y,d=this,b=r(3).assertRelayContext(this.context.relay),m=b.environment,_=m.unstable_internal,C=_.createOperationSelector,g=_.getRequest,R=_.getVariablesFromObject,x=this.props,q=(x.componentRef,(0,c.default)(x,["componentRef"])),S=(0,v.default)({},q,this.state.data),P=this._relayContext.variables,F=R(P,t,q);return F=(0,v.default)({},P,F,this._refetchVariables),i=n.getVariables(S,{count:e.count,cursor:e.cursor},F),"object"!=typeof i||null===i?r(2)(!1):void 0,i=(0,v.default)({},i,this._refetchVariables),s=a?{force:!!a.force}:void 0,s&&a&&a.rerunParamExperimental&&(s.rerunParamExperimental=a.rerunParamExperimental),u=g(n.query),p=C(u,i),f=null,this._refetchSubscription&&this._refetchSubscription.unsubscribe(),h=function(t,n){var o,a;d._relayContext.environment=d.context.relay.environment,d._relayContext.variables=(0,v.default)({},d.context.relay.variables,F),o=d._resolver.resolve(),d._resolver.setVariables(l(F,e.totalCount)),a=d._resolver.resolve(),r(10)(o,a)?n():d.setState({data:a},n)},y=function(){d._refetchSubscription===f&&(d._refetchSubscription=null,d._isARequestInFlight=!1)},this._isARequestInFlight=!0,f=this._getQueryFetcher().execute({environment:m,operation:p,cacheConfig:s,preservePreviousReferences:!0}).mergeMap(function(e){return r(1).Observable.create(function(t){h(e,function(){t.next(),t.complete()})})}).do({error:y,complete:y,unsubscribe:y}).subscribe(o||{}),this._refetchSubscription=this._isARequestInFlight?f:null,f},a.prototype._cleanup=function(){this._resolver.dispose(),this._hasPaginated=!1,this._refetchVariables=null,this._refetchSubscription&&(this._refetchSubscription.unsubscribe(),this._refetchSubscription=null,this._isARequestInFlight=!1),this._queryFetcher&&this._queryFetcher.dispose()},a.prototype.getChildContext=function(){return{relay:this._relayContext}},a.prototype.render=function(){var t=this.props,n=t.componentRef,o=(0,c.default)(t,["componentRef"]);return r(4).createElement(e,(0,v.default)({},o,this.state.data,{ref:n,relay:this.state.relayProp}))},a}(r(4).Component),u.displayName=y,u.contextTypes=d,r(15).profileContainer(u,"ReactRelayPaginationContainer"),u}function u(e,t,n){return r(16)(e,t,function(e,t){return l(e,t,n)},!0)}var c=n(r(17)),p=n(r(8)),f=n(r(13)),h=n(r(12)),y=n(r(27)),v=n(r(9)),d={relay:r(7).Relay},b="forward";e.exports={createContainer:u,createContainerWithFragments:l}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return{error:null,props:null,retry:null}}function a(){return{error:null,props:{},retry:null}}function i(e,t,r,n){return{error:e?e:null,props:t?t.data:null,retry:function(){var t=r.retry();t&&"function"==typeof n.handleDataChange?n.handleDataChange({snapshot:t}):e&&"function"==typeof n.handleRetryAfterError&&n.handleRetryAfterError(e)}}}function s(e,t){if("BatchRequest"===e.kind)return JSON.stringify({id:e.requests.map(function(e){return String(e.id||e.text)}),variables:t});var r=e.id||e.text;return JSON.stringify({id:String(r),variables:t})}function l(e,t,r,n){var l,u,c,p,f,v,d,b,m,_=e.environment,C=e.query,g=e.variables,R=_;if(!C)return t.dispose(),{error:null,relayContextEnvironment:_,relayContextVariables:g,renderProps:a(),requestCacheKey:null};if(l=R.unstable_internal,u=l.createOperationSelector,c=l.getRequest,p=c(C),f=u(p,g),"string"==typeof n&&h[n])return v=h[n].snapshot,v?{error:null,relayContextEnvironment:_,relayContextVariables:g,renderProps:i(null,v,t,r),snapshot:v,requestCacheKey:n}:{error:null,relayContextEnvironment:_,relayContextVariables:g,renderProps:o(),snapshot:null,requestCacheKey:n};try{return d=e.dataFrom===y?t.lookupInStore(R,f):null,b=t.fetch({cacheConfig:e.cacheConfig,dataFrom:e.dataFrom,environment:R,onDataChange:r.handleDataChange,operation:f}),m=b||d,n=n||s(p,e.variables),h[n]={queryFetcher:t,snapshot:m},m?{error:null,relayContextEnvironment:_,relayContextVariables:f.variables,renderProps:i(null,m,t,r),snapshot:m,requestCacheKey:n}:{error:null,relayContextEnvironment:_,relayContextVariables:f.variables,renderProps:o(),snapshot:null,requestCacheKey:n}}catch(e){return{error:e,relayContextEnvironment:_,relayContextVariables:f.variables,renderProps:i(e,null,t,r),snapshot:null,requestCacheKey:n}}}var u=n(r(9)),c=n(r(8)),p=n(r(13)),f=n(r(12)),h={},y="STORE_THEN_NETWORK",v=function(e){function t(n,o){var a,i,f,y,v,d,b,m;return(0,c.default)(this,t),a=(0,p.default)(this,e.call(this,n,o)),a._relayContext={environment:a.props.environment,variables:a.props.variables},i={handleDataChange:null,handleRetryAfterError:null},f=void 0,y=void 0,n.query?(v=n.query,d=n.environment,b=d.unstable_internal.getRequest,m=b(v),y=s(m,n.variables),f=h[y]?h[y].queryFetcher:new(r(6))):f=new(r(6)),a.state=(0,u.default)({prevPropsEnvironment:n.environment,prevPropsVariables:n.variables,prevQuery:n.query,queryFetcher:f,retryCallbacks:i},l(n,f,i,y)),a}return(0,f.default)(t,e),t.getDerivedStateFromProps=function(e,t){var n,o,a,i,c,p,f;return t.prevQuery===e.query&&t.prevPropsEnvironment===e.environment&&r(10)(t.prevPropsVariables,e.variables)?null:(n=e.query,o=t.queryFetcher.getSelectionReferences(),t.queryFetcher.disposeRequest(),a=void 0,n?(i=e.environment,c=i.unstable_internal.getRequest,p=c(n),f=s(p,e.variables),a=h[f]?h[f].queryFetcher:new(r(6))(o)):a=new(r(6))(o),(0,u.default)({prevQuery:e.query,prevPropsEnvironment:e.environment,prevPropsVariables:e.variables},l(e,a,t.retryCallbacks)))},t.prototype.componentDidMount=function(){var e=this,t=this.state,r=t.retryCallbacks,n=t.queryFetcher,a=t.requestCacheKey;a&&delete h[a],r.handleDataChange=function(t){var o=null==t.error?null:t.error,a=null==t.snapshot?null:t.snapshot;e.setState(function(e){var t=e.requestCacheKey;return t&&delete h[t],a===e.snapshot&&o===e.error?null:{renderProps:i(o,a,n,r),snapshot:a,requestCacheKey:null}})},r.handleRetryAfterError=function(t){return e.setState(function(e){var t=e.requestCacheKey;return t&&delete h[t],{renderProps:o(),requestCacheKey:null}})},this.props.query&&n.setOnDataChange(r.handleDataChange)},t.prototype.componentDidUpdate=function(){var e=this.state.requestCacheKey;e&&(delete h[e],delete this.state.requestCacheKey)},t.prototype.componentWillUnmount=function(){this.state.queryFetcher.dispose()},t.prototype.shouldComponentUpdate=function(e,t){return e.render!==this.props.render||t.renderProps!==this.state.renderProps},t.prototype.getChildContext=function(){return{relay:this._relayContext}},t.prototype.render=function(){var e=this.state,t=e.relayContextEnvironment,r=e.relayContextVariables,n=e.renderProps;return this._relayContext.environment=t,this._relayContext.variables=r,this.props.render(n)},t}(r(4).Component);v.childContextTypes={relay:r(7).Relay},e.exports=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var o=r(5).getContainerName(e),a=function(a){function p(e,i){var c,f,h,y;return(0,l.default)(this,p),c=(0,u.default)(this,a.call(this,e,i)),c._handleFragmentDataUpdate=function(){var e=r(1).RelayProfiler.profile("ReactRelayRefetchContainer.handleFragmentDataUpdate"),t=c.state.resolver;c.setState(function(e){return t===e.resolver?{data:e.resolver.resolve()}:null},e.stop)},c._refetch=function(e,t,o,a){var i,l,u,p,f,h,y,v,d,b,m,_,C;return c._isUnmounted?{dispose:function(){}}:(i=r(3).assertRelayContext(c.context.relay),l=i.environment,u=i.variables,p="function"==typeof e?e(c._getFragmentVariables()):e,p=(0,s.default)({},u,p),f=t?(0,s.default)({},u,t):p,h=a?{force:!!a.force}:void 0,y="function"==typeof o?{next:o,error:o}:o||{},v=c.context.relay.environment.unstable_internal,d=v.createOperationSelector,b=v.getRequest,m=b(n),_=d(m,p),c.state.localVariables=p,c._refetchSubscription&&c._refetchSubscription.unsubscribe(),C=void 0,c._getQueryFetcher().execute({environment:l,operation:_,cacheConfig:h,preservePreviousReferences:!0}).mergeMap(function(e){return c.state.relayContext.environment=c.context.relay.environment,c.state.relayContext.variables=f,c.state.resolver.setVariables(f),r(1).Observable.create(function(e){return c.setState({data:c.state.resolver.resolve()},function(){e.next(),e.complete()})})}).finally(function(){c._refetchSubscription===C&&(c._refetchSubscription=null)}).subscribe((0,s.default)({},y,{start:function(e){c._refetchSubscription=C=e,y.start&&y.start(e)}})),{dispose:function(){C&&C.unsubscribe()}})},f=r(3).assertRelayContext(i.relay),h=f.environment.unstable_internal.createFragmentSpecResolver,c._refetchSubscription=null,y=h(f,o,t,e),c.state={data:y.resolve(),localVariables:null,relay:f,relayContext:{environment:f.environment,variables:f.variables},relayEnvironment:f.environment,relayProp:{environment:f.environment,refetch:c._refetch},prevProps:c.props,relayVariables:f.variables,resolver:y},c._isUnmounted=!1,c}return(0,c.default)(p,a),p.prototype.componentDidMount=function(){this._subscribeToNewResolver()},p.prototype.componentDidUpdate=function(e,t){this.state.resolver!==t.resolver&&(t.resolver.dispose(),this._queryFetcher&&this._queryFetcher.dispose(),this._refetchSubscription&&this._refetchSubscription.unsubscribe(),this._subscribeToNewResolver())},p.getDerivedStateFromProps=function(e,n){var a,i,s=n.prevProps,l=r(3).assertRelayContext(n.relay),u=l.environment.unstable_internal,c=u.createFragmentSpecResolver,p=u.getDataIDsFromObject,f=p(t,s),h=p(t,e),y=n.resolver;return n.relayEnvironment===l.environment&&n.relayVariables===l.variables&&r(10)(f,h)?(n.localVariables||y.setProps(e),i=y.resolve(),i!==n.data?{data:i,prevProps:e}:null):(a=n.relayContext,a.environment=l.environment,a.variables=l.variables,y=c(l,o,t,e),{data:y.resolve(),localVariables:null,prevProps:e,relayContext:a,relayEnvironment:l.environment,relayProp:{environment:l.environment,refetch:n.relayProp.refetch},relayVariables:l.variables,resolver:y})},p.prototype.componentWillUnmount=function(){this._isUnmounted=!0,this.state.resolver.dispose(),this._queryFetcher&&this._queryFetcher.dispose(),this._refetchSubscription&&this._refetchSubscription.unsubscribe()},p.prototype.shouldComponentUpdate=function(e,n,o){var a,i,s;if(n.data!==this.state.data||n.relayProp!==this.state.relayProp)return!0;for(a=Object.keys(e),i=0;i<a.length;i++)if(s=a[i],"relay"===s){if(n.relayEnvironment!==this.state.relayEnvironment||n.relayVariables!==this.state.relayVariables)return!0}else if(!t.hasOwnProperty(s)&&!r(1).isScalarAndEqual(e[s],this.props[s]))return!0;return!1},p.prototype._subscribeToNewResolver=function(){var e,t=this.state,r=t.data,n=t.resolver;n.setCallback(this._handleFragmentDataUpdate),e=n.resolve(),r!==e&&this.setState({data:e})},p.prototype._getFragmentVariables=function(){var e=this.context.relay.environment.unstable_internal.getVariablesFromObject;return e(this.context.relay.variables,t,this.props)},p.prototype._getQueryFetcher=function(){return this._queryFetcher||(this._queryFetcher=new(r(6))),this._queryFetcher},p.prototype.getChildContext=function(){return{relay:this.state.relayContext}},p.prototype.render=function(){var t=this.props,n=t.componentRef,o=(0,i.default)(t,["componentRef"]);return r(4).createElement(e,(0,s.default)({},o,this.state.data,{ref:n,relay:this.state.relayProp}))},p}(r(4).Component);return a.displayName=o,a.contextTypes=p,r(15).profileContainer(a,"ReactRelayRefetchContainer"),a}function a(e,t,n){return r(16)(e,t,function(e,t){return o(e,t,n)},!0)}var i=n(r(17)),s=n(r(9)),l=n(r(8)),u=n(r(13)),c=n(r(12)),p={relay:r(7).Relay};e.exports={createContainer:a,createContainerWithFragments:o}},function(e,t,r){"use strict";function n(e,t){var n,o;t&&"object"==typeof t?void 0:r(2)(!1);for(n in t)t.hasOwnProperty(n)&&(o=t[n],!o||"object"!=typeof o&&"function"!=typeof o?r(2)(!1):void 0)}e.exports=n},function(e,t){"use strict";function r(e){return!!(e&&e.getFragmentNames&&e.getFragment&&e.hasFragment&&e.hasVariable)}e.exports=r},function(e,t){"use strict";function r(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}e.exports=r},function(e,t){e.exports=p},function(e,t){e.exports=f},function(e,t){e.exports=h}])});